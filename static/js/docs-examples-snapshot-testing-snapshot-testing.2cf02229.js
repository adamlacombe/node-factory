(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"./docs/components/FormatJson.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r);t.a=function(e){var t,n,r=e.parse;return a.a.createElement("pre",{style:{background:"#EEF1F5",borderLeft:"5px solid #CED4DE",color:"#7D899C",margin:"-30px 0 25px 2px",padding:"20px",fontStyle:"italic",fontSize:"18px",maxWidth:"100%",overflowY:"auto"},dangerouslySetInnerHTML:{__html:(t=r(),n={number:"color: #3490DC",key:"color: #6CB2EB",string:"color: #3490DC",boolean:"color: #621B18",null:"color: #E3342F"},"string"!=typeof t&&(t=JSON.stringify(t,void 0,2)),(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span style="'+n[t]+'">'+e+"</span>"}))}})}},"./docs/examples/snapshot-testing/snapshot-testing.mdx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=n("./node_modules/react/index.js"),o=n.n(a),s=n("./node_modules/@mdx-js/react/dist/index.es.js"),c=n("./node_modules/docz/dist/index.esm.js"),i=function(e){var t=e.list;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Posts"),o.a.createElement("ul",null,t.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:"/posts/".concat(e.id)},e.title))})))},l=i;i&&i===Object(i)&&Object.isExtensible(i)&&Object.defineProperty(i,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PostList",filename:"docs/examples/snapshot-testing/PostList.tsx"}});var u=n("./src/index.ts"),m=Object(u.factory)(function(e){return{id:e.random.uuid(),title:e.lorem.sentence()}}),p=m;"undefined"!==typeof m&&m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PostFactory",filename:"docs/examples/snapshot-testing/PostFactory.ts"}});var b=function(e){var t=e.children;return o.a.createElement("pre",{style:{background:"#EEF1F5",borderLeft:"5px solid #CED4DE",color:"#7D899C",margin:"25px 0 25px 2px",padding:"20px",fontStyle:"italic",fontSize:"18px",maxWidth:"100%",overflowY:"auto"}},t())},f=n("./docs/components/FormatJson.tsx");n.d(t,"default",function(){return h});var A={},d="wrapper";function h(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)(d,Object.assign({},A,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"snapshot-testing"},"Snapshot testing"),Object(s.b)("p",null,"When working with component libraries, such as ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"http://reactjs.org/"}),"React.js"),", a common pattern of\ntesting is using ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://jestjs.io/docs/en/snapshot-testing"}),"snapshots"),". These are particularly\nuseful to make sure your UI does not change unexpectedly. But, because of this, using random data\nto test snapshots creates a problems since, because the data changes, the snapshots will also\nchange. Let's see how we can deal with this."),Object(s.b)("p",null,"For the sake of this example, let's say we are testing a blog app."),Object(s.b)("h2",{id:"factory"},"Factory"),Object(s.b)("p",null,"To start, we might have a factory in the likes of:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// ./path/to/PostFactory.js\nimport { factory } from 'node-factory';\n\nconst PostFactory = factory(fake => ({\n  id: fake.random.uuid(),\n  title: fake.lorem.sentence(),\n}));\n\nexport default PostFactory;\n")),Object(s.b)(f.a,{parse:function(){return p.create()},mdxType:"FormatJson"}),Object(s.b)("h2",{id:"component"},"Component"),Object(s.b)("p",null,"So let's say we have a component which lists the blog posts:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// ./path/to/PostList.jsx\nimport React from 'react';\n\nconst PostList = ({ list }) => (\n  <>\n    <h2>Posts</h2>\n    <ul>\n      {list.map(post => (\n        <li key={post.id}>\n          <a href={`#/posts/${post.id}`}>{post.title}</a>\n        </li>\n      ))}\n    </ul>\n  </>\n);\n\nexport default PostList;\n")),Object(s.b)(c.c,{__position:1,__code:"() => <PostList list={PostFactory.make(2)} />",__scope:{props:this?this.props:n,Link:c.b,Playground:c.c,PostList:l,PostFactory:p,EchoJS:b,FormatJson:f.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AAGTQbYlgABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtKYEMoFFYJRHDZXaD0DzgT0sG9Ml4EkOBUFmOBhgtWgUQKSQyIo2wXxVVBiPVdhBIIAAxM0hWSI0aLo04GJ_FiGPYzjuPNXiYhnATyJkuSBESIiIPYM9yGGAApZxqPdaQVIBdN9AYyybOcMySPYaShSiAhrLgZlFIc-jnPXGgGN8gR_MC6gvIkwNJXs-UzXaMFUF0KiCOcAhEixdhuHYYB1iiARnlQK52gABnYJMZiwdo92rGYOxYGcqoAFga9gADYGqa9YwGA2SiGgRIqv4ZxDgRB1MEkoR-CWIhqHI1qEUG6thpoZwIHwy52AARk65r5AyrKpgAQTmQr2AjKCrOgdAwywjlCrEO7oxkdgUXymBuGAHK8qxeQtxrYBHqgZ7ggAMhh8ZEnmShmkh6HzG4DG5TADDJQGVB2nYAB-DYnrDCM3quVGwzO6spBkKs3zMGEJMwMAwigKZyfe2trvrYAue4D7GCkyipigYSAak2TJXknAom2GAIwAJg5bDN3kKRearL8QDCtSsTYji7m03T-JF4ScAIOAsEA3QQIMMDxPtJKpTdVLFVEswLskwzRdu-72HFqj5DewXPtpsGEzwJWxCkuAKxjldGFCKBI_BoOCDl2YI0FKiw6jasaxrRhxfYBXEgB3PM64UGVyLhNXF8LowAB4pJCrhiABJgCrnAa-KUGe8My2XlgDXJFcNOi6kcWp_YDlVaTyQU7BqQGc950sG81n2dI33hNEnW9aY38NKNriRB0-A9JSAyUWliITMtrQKGA_QGCdyDDWM5JsJC2iPQ4EAR6OAAhyCSFUNgP0XtqBUSlj_W6bMZYmQjGzBW3N7rrC4FcNBf5MgYEiDgUIoQuDk2ahYGIBBYA4NcArHAUAhQwCIDgOA-h4SKw5KdBeG9mb2h3inPe98f6HyULrJynwIpW0kO5Sgtln4220Hbd-YFHjjDgOLGgiAWAVA8LAW0iVNQpVNB7DKvCpj8I5ndB6NgoYvRDhg6M_Zui_VgADEqhd2AeAlNsNCbQMBVQAMRnjPNJQ60kACsm0i5eAEFOaCMAwAECquEnqQVxY5ACfYM8WpOpajPFEmsVAGFljlAEgA7FqAAHAATmqfYApFgyoVSqkrFJPhaqtJ6krAa5CaytU7AUFp1Uekrm2gQXKf0qovHiLEBphpgK7X2lVQ6lSRkeKiFgAA6lwCYyzqrVQAKRzMoKwDIYAGEjAAJpVTCBEAp8ha7VghjYtG5MabbicevMwR9xGOmoK5SQ0VYpBVQPI22b9QIgFUVbDRSTtGuF0YyMS5kXZGM1NA1A2NMrdnMHARINBXBYAABIQBSHgcWZKCARk0NQN67iLDexcfAW69KayoFCEQQIJT2hFKFFcAJSZOrVOqlqepvSLDlyqrykpATer2GvErM8145komnCkKVlBin8sFcK0VcyvCavFJVOU0r-W9SVoda8Ky5nsoSBqrV7AglJkFUraS9yN4WAgM0CMeUkbNBpeYAAhEVdoqqCivmKnXCwAbbq2R1AAORYaiAoXrEjUpBUsDCrM0DZCWCrUSFh3nsBjUVANoYYBkglIrSQMMnhLHaDDZiSpXzlsrQiCMkgpApHrTDDmzaOStuQu2zcda5QwxSAQftBaJyjj6OYMtXQ23VqjCAKMvB12hAANquHNPhS65oABa1VzTVIALrAE6vIAAPuu9dm6AB6oRT1Xofbe9dIBT0clMKu9dcAjCckJje3gHgfVohgFetmUBWFXttVALkwGr3mkJuu9AABqCMhNEDrpwChowHJCYYcQJumAZ5T2btQ-u80p7kO8DQ_hjko6sW42ZBGfyVk6VRtYK4I45AoO3XaOyzlGQ_T104N6yQ97-CSEttfVj0R2McY8aJr1d1JCIE7tJ3ScmCAKcjUp0ThS-MhvLiJgzhboRQe6KyszRdeN2BDWGmcpmzNFqLthecrCxOqdRAyCD8RWGadk2xvAC89M2Z6EZuUBryT42nW5iznmVMdtg4FlE2ndPWYM3Z_jsHnM1lczWLoBA51ykYHAVquLgb_X4ATVDP0qtwE3XZ097A6vpRAGIWr7BgutdK2xCrnXp0h1EjTJmW8WYJN3lYvs3HPP2Pzo4ro9W_puJXF4nYvis2BOCaEiJ-qhRxISUkuUbSfqaq4I6rJOS8lzNNaUipNS6lzKaWgKq5okzDPaewTpPhumNXFTNgZHU5RK0-3MsZEzqFymmeLcg4OFl7QOu0FZayi4bO2egXZcpDr7KOQDk5ZyLnXLlLcyg9zsLoHcGkdC6jEjOFHA0VAzoBBEssHqaCbj2AAH0ueEBIFcPFBLiWkvJSLqlrUBCsPJm9B57BNxmA_N80RoDwGQNwFbcFehIVmPYEYFKHpfXwD9DrqCFipj-G_sg3--vJBIMfqZUSJvjiTYESEOwdAOUP3klhG3HuiBe5Mn6HWKvJCG7gM_TX9tDCSDUbCrRtgEVQ4wl6iA2RzT5BSBxYrXQ4Bje8mgWgAgkHdAaFqaIrgdQeHUFsSC6xN2Svq2q09VwkQjdMeN-0BezlVvYLlLIABxdImRH6MEsB9Vl5MriWGnRGAnAh-jlCuKX8vlfq-Sg5FPmfVAMLHcE1yjfVhN2nq3343fHKuVLDnwv-AS-y8EAr1XmvB_LBH7b5vfPegi894QjKakg_mfRBCij7j7rCT4LSRDUjAEz5X5cA36NB34P5r4EAH4_4QGsJQGgHb6aLsB74ZAoG_7oEv6npiAn475XC4ECCX6nLz6wH3DwEr6P7r5XCoFjSEFH4kFmCjbv4SRd5f6zQNAB6JCr416j63RIggHVjywHR960D_4ZCAECAYHVjkCmi0DMEEEwByHD5AFj7TrUBJBXARjlx0HlzIxWDsBXrsCXTz4oSMCmHNBj5UEZDX5wCYb0H37CHr7cwITcYxDxBKEWCsLZCGFcZQAMjkHn54HcwCE_yeEEABH1ZZCGEcRHgC7JozhLAohZAABq8QDIdBy-HhjByB3MrAlAXA06ugkAKQCBXiUulAMwOKdBtRFIjgmKpKwBB-ZRFRnB7eH-hexe7AWhsQZ4WAIE-Q1AwBYW7Am6WRahjeBQzeve9-shQ-ChShXBOuhuPkP8WhCh_suCLeqAiQocH0hRiBNePCHeY4n-gxLRrCbR1RUxrKaArCwohhlO9-U-px4BrBMAjA4h06eAiQz0SRd0nxrg3x3hGhAJxxHBqAmx1xnAtxPeZ4gmg-8RY-0xYB0-mBp-ERQmAgz-r-vR_o3BneKJs0aJHKAAqmJAAI4MjPGgHP6kHYEUHEnH6kl548GUndDUn-4_zMnVinhXACkYkJHJ6MkHQCl0kQDSkJFBEPihEMhuEclimCaCEbFK7KAh526ywa6KIQoOzgTeS4JHD_zmkJT2hQRHjlQwBLA56aqnLWEpB2B_xuweibBQCwhwDWm17Vj3EwCPGkq9KCF7GPy9LDHkCjHjF4y9LnFxEJmCFJnrAyGaFrGRmcE25h4Yrez6kmS3Sj5LCXS3TRmxl0ATGoDAENhpAAGPxXDhmZlCg_GsrewQl1EHRBkhkpBTFFSZb-D4rkDIlvFUoQlQmZYWBFYlYQlxZYQA6DmZS-AgnD6KzjlWCKaibTkCDmCzkrhKDrDyAeqFioBUR1nyG0D-wwGL7uEXHJSWFIhH4WE4EpxQC3Swatkrjtnl63TnnaECCoK0J4HHmererXnMoYxFQfnTFFzbnmB2lpARgQklk2GJB9xwDWGZBpoQlvTExPlXDAD2IW64keJcGwWzo7ndYZCIXIV7DUEuFvTEVDbHnexSH-xYEEBqmRFHCWGJnFFOE0HlBuF8VIGfkeKwDNinDbBT7PlEFzlJYcWFSYxZoJI5roCbn1wrQ7C_mZkcJu5WBznuaWZeYRiKWMBHQaVo5SW3Sbp_lZDkwtbEUkmkUJbdBJaG5mGKWQVyiUDFERqTndbWVFR2W0CmWn6MV2AkXxYeZWZRreym7l5LCwAzgFjYRFROlQAunlRwBhU74CUMVzmNJBVWGoU4CKQBzJUTp4ghxZwzARgCwfQhVrnl6hZOVcmkUZRFzmksJBAPjdX4JWg4AUHS4gUzrZ7wVSXMWdUnlUQqHiiXlFSLnDm5U0BcWEnPkiU175W0HCUIFxFiVFwSWBU7AyWWFyUrgKWn7sDBovkJDsBwyFg761gWUwU1haW7BFS2W6UOX6XnUuUxUmWBrXjCAxYrXIGWVvXFVNVcxMX7muUmUeUoxXXeXtC-VIH-VRrvU6X1mKwcURUGVw0A0BXxXHCJWBx0BVU-7pXwDOkwCuk5UcXbXlCK76ZY1FSYUoRlUygVUU2pUDpRB1UNUjg41IUtX41_VubTUWDdVKmAUKwCChiVCELDXcJS0mUc1oW2Aa2sZSWhYBVwUhAjCuDjgsHUg4DxBQAFxmbvW1URhLV3QrSYBQBQlhwBVFyuBG3jgdkUh9ynkZBUqO3zgs3hYG3e2sL4Arn2WB1waFX5acJRrB35Zq0e3G3mLl6dm-2jk607CJ1TkUW7np0-3AmgmhXvWJ1HnTXez6HJBFRGEwCJAmH11mGWDPka12FN0OFiBM1wGbXJT9nzYSG2awJp3363RSGz70W0Es0rgG0Rga3oXa3GFviibEzGHlroChDtqoLQCF7BGSS-EQD-GOFlz10_EBxAJlU70XCLAzHlxLGi2j0W4-HCiH1QCdH1710tYhxLCEXL31wEW3311wD30Qn6XP1-Fv1j4cgf0N1f343gOv0JEV1kkMrD0_S9X-wqkHQcncyZYy29URhYO51jUlYFlCHFFTUoMzVTBzHdC10pEHSObdqJG0C5FhE917XFEHU1hJabo8qqEwBNRyhSFCOo2oBJCiNKmSMrGCP1pVGkpBntCnq-1qA6hgARgMNvTmXVQQ2oOnk0MyMRlCjsX4kvnrW8WcNIG3SHTd2uG34MGiW4NRoWBHXvWnWH7tVmaXVPXeUqWQDOjqWvWiZs3C0XmKy0NsP5Hi2x3mYA3eOZjmWHS6OaXFVfUi0RN5HwAciOWRXOUubw3uWIwwCeXI2Yyo1-XJNWXaXBXfVu31wX0ZPsNwAA5mYX2M3ONx2_UxM-5E0dN6NUQJX35JW83VW3QZVZVulg22PEPBPFXz3lVQSVV8220NV9NvVAWYL6atNAKNP5EtM2YX3IVrOFrx1bM1ji15MGZkUGb4PZBy0ZCK0ELMIq3T1nMG3vWx3INRqAVW5xH6VIjQMMP6X2FWEtZFS0NGNHAW7pmQsJGFqHksVoPyM1GF2ea10NFNHMEH3-HdnUBPFj5iDcMWBxE4DGEP0IoUgDrDQCBngSh4D1UN5MNEs8Peqz6NF4x2AW4AswOfpBM1jkudn_PHHQN31XnsuwJCsnE8ufP7nl2Iv6OW725_P9k9ACPLRAWX7iOJCZG9WZEyNLDItBlYTHkG1kN_MW4xG_PFFTHwyXQjZXHbwu6WJkMiK6lgKeiak_wR5Gla4mmfzfzy0pRWmiT-tQQCmCE-7_wG5FN-kbzex-4RtFSiGLVwl22oVHGJBH7cPeynj-yoBrX75OPiWjjHXSUhDHHPmPmeMst3TozKXhj-PZDJMhPdXem-kdMsJ4ChBgDnL_Fj4RiboX3cZYWfoduCh1XENGWJbermCJPNvFWtvzjttnOdvdu9vAEDtDuoWjsrvqKxCKzVRLBJOGXw0BUhPzPc2LMjPkGvQrOnEdOLs-kZC55nMWCrs9uwAbuDtALDsoQ7vhY4DjtkIJ2GVq23N9VAUK0DXK3cUjVq3vPWVP3YuQPwmFrytURSkMh5sFtRGu0riuNSUZuVvHGXOgW1tKVFR-NqXzvVMBsPNtvPsdtcRrufv9vfvm3bt_2iaAcNHkwntxMzvPVJN8stuQf4BLuMe7tdsft9sNjse_uJD_sGYsKw4HtHuTuntxVoPxrvnPUKf0IjNEw4HsAt6lVLN4Cx3ewS4QOIJicMeS7vvrtsdbsjszOlu3QXuRA80pV4BXA6c1UC31XMvkXjUzYv3xA8cTufOTtgdiey39VK3POweq1UN52hdY1IfhcoeUPrCMoYO11YM4dElFtFxJZEN8vgeEOZMxceIG0JuxEUMIuV1oP1dWtWMqtKlLCniZoMlYdfPVh1eettc176XhtCm6GcEOsTZsyu6tf26usgAh72fh6Gmvy-sfzmRQS91TAem4TRvzCxt9ESTey2DKt3Rcb9CJ4HQAslckOUUXeH2Ir3XwyI3sAPdXcUc-V-XPdvfcaPewAfDD1ojIKfdxH2tHf2isXUV0Pgnl72NFFIG2Pw93nIHI_KuD3q2lVa2oXktvQPXz3Y9YUT3OFT0Q2h3l4rNYMZtLAN44N4f6YG3lzPXgXh7mdGcs88sme_fsOGXl3rAG0ktks4Xr2b2KxVdNM0-n23dkcRiC9APE-CVZMqPYBqN10nHPU6N8sG11MX1YPNMdM8tXCBqnfFHks8u4Wk336c9XAIXNVW933TP7PIOS2pfUPFSAOKdXDgVLAX0547e3Qs9zl68srsC6-ZPNMe9LHgXGsrgs9jPXyjUG169DY_3DaTcQ9TDezjN03ZX-xbtukZtZto_FHvTrDcZuki_torgRjZ833l_BcI1FNmHl-fcCbcUY1vP53u--802ZW5rk0-emezgfS1TEwt9XCHQx_6ZTtuXeqvct8o1o014d9mba-h9AK19LDrkt_O_1wz98tpcla18yukUA5XuD9HRb9w_FTYQHnVgs06zrTbCuBpD_ggqR7KIgCsr8AMP8BXD8A_Biw1QDIOaH1iMgQAvSfgNQSrJ_92A_AaqDgAQHVQlo6wfgOUBUIQBxW_oJAHAJACll8gv4aECfBYjO4yQlARILmDyAFAZ0Zoc0IAL-ClgUB1YfgFEDQCwD-AauN_kwIsBoCK0dATAJlFTy54cBmWNAacHwjsCQA96Q6DgCTA4BDo3AmsPwHNKSD70nUeQYgMUE8DBAmoSQchF0haDcBxiC0FaD0FZAUQ_AQ8pwWDwMDcAyLN_tQA_6QoSoIAWgD6CyB_8ABAjc0MYPNCzAZg_AeQAoAeRAA",mdxType:"Playground"},function(){return Object(s.b)(l,{list:p.make(2),mdxType:"PostList"})}),Object(s.b)("h2",{id:"the-test-problem"},"The test problem"),Object(s.b)("p",null,"So, for a very basic test, we can use the snapshot to make sure the UI won't change:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// ./path/to/PostList.spec.jsx\nimport React from 'react';\nimport { shallow } from 'enzyme';\nimport PostList from './path/to/PostList';\nimport PostFactory from './path/to/PostFactory';\n\ndescribe('The PostList component', () => {\n  it('should match the snapshot', () => {\n    const list = PostFactory.make(2);\n    const component = shallow(<PostList list={list} />);\n\n    expect(component).toMatchSnapshot();\n  });\n});\n")),Object(s.b)("p",null,"On the first run, you might get something like:"),Object(s.b)(b,{mdxType:"EchoJS"},function(){return"PASS  ./path/to/PostList.spec.jsx\n  The PostList component\n    \u2713 should match the snapshot (8ms)\n\n - 1 snapshot written.\nSnapshot Summary\n - 1 snapshot written in 1 test suite.\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   1 added, 1 total\nTime:        1.498s, estimated 4s\n"}),Object(s.b)("p",null,"But if you run it again, you'll probably see a big fat error:"),Object(s.b)(b,{mdxType:"EchoJS"},function(){return"FAIL  ./path/to/PostList.spec.jsx\n  The PostList component\n    \u2715 should match the snapshot (18ms)\n\n  \u25cf The PostList component \u203a should match the snapshot\n\n    expect(value).toMatchSnapshot()\n    \n    Received value does not match stored snapshot\n\n \u203a 1 snapshot test failed.\nSnapshot Summary\n \u203a 1 snapshot test failed in 1 test suite. Inspect your code changes or press `u` to update them.\n\nTest Suites: 1 failed, 1 total\nTests:       1 failed, 1 total\nSnapshots:   1 failed, 1 total\nTime:        4.97s"}),Object(s.b)("h2",{id:"the-solution"},"The solution"),Object(s.b)("p",null,"So, since we have random data being generated at every test run, our snapshots will never be the same. To fix\nthis, we need the randomness of the data ",Object(s.b)("strong",{parentName:"p"},"not")," to be so random. To achieve this, we can pass a ",Object(s.b)("inlineCode",{parentName:"p"},"seed"),"\nwhich will be used to generate the random data. By using the ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"/api/seed"}),Object(s.b)("inlineCode",{parentName:"a"},"seed")," method"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// ./path/to/PostList.spec.jsx\nimport React from 'react';\nimport { shallow } from 'enzyme';\nimport PostList from './path/to/PostList';\nimport PostFactory from './path/to/PostFactory';\n\ndescribe('The PostList component', () => {\n  it('should match the snapshot', () => {\n    // Add the seed method before calling make\n    const list = PostFactory.seed(123).make(2);\n    const component = shallow(<PostList list={list} />);\n\n    expect(component).toMatchSnapshot();\n  });\n});\n")),Object(s.b)("p",null,"With this in place, we now get the same result every time!"),Object(s.b)(b,{mdxType:"EchoJS"},function(){return"PASS  ./path/to/PostList.spec.jsx\n  The PostList component\n    \u2713 should match the snapshot (5ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   1 passed, 1 total\nTime:        1.367s"}))}h&&h===Object(h)&&Object.isExtensible(h)&&Object.defineProperty(h,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs/examples/snapshot-testing/snapshot-testing.mdx"}}),h.isMDXComponent=!0},"./src/enumFactory.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),a=n("./node_modules/faker/index.js"),o=n.n(a),s=function(e){var t={seed:function(e){return e&&o.a.seed(e),t},get:function(t){var n;return n=void 0===t?o.a.helpers.shuffle(Object(r.a)(e)).pop():t<1?o.a.helpers.shuffle(Object(r.a)(e)).slice(0,1):Array.from({length:t}).map(function(){return o.a.helpers.shuffle(Object(r.a)(e)).pop()}),o.a.seed(o.a.random.number()),n},unique:function(t){var n;if(void 0===t)n=o.a.helpers.shuffle(Object(r.a)(e)).pop();else if(t<1)n=o.a.helpers.shuffle(Object(r.a)(e)).slice(0,1);else{var a=t<e.length?t:e.length,s=o.a.helpers.shuffle(Object(r.a)(e));n=Array.from({length:a}).map(function(){return s.pop()})}return o.a.seed(o.a.random.number()),n}};return t};s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"enumFactory",filename:"src/enumFactory.ts"}})},"./src/factory.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(a),s=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),c=n("./node_modules/faker/index.js"),i=n.n(c),l=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");function u(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(e){return e&&"object"===typeof e&&e.constructor===Object};b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isObject",filename:"src/helpers.ts"}});var f=function e(t,n){return Array.isArray(t)&&Array.isArray(n)?t.map(function(e,t){return t<n.length?n[t]:e}):Object.keys(t).reduce(function(a,o){if(Object.keys(n).indexOf(o)<0)return p({},a,Object(r.a)({},o,b(t[o])?e(t[o],n):t[o]));var s=n,c=s[o],i=Object(l.a)(s,[o].map(u));return a=p({},a,Object(r.a)({},o,c)),n=i,a},{})};f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"merge",filename:"src/helpers.ts"}});var A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return"number"===typeof t?p({},e,{length:t>0?t:1}):"object"===typeof t?p({},e,{data:t}):e},{length:1,data:{}})};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}A&&A===Object(A)&&Object.isExtensible(A)&&Object.defineProperty(A,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"resolveArgs",filename:"src/helpers.ts"}});var j=function(e){var t,n,a={insert:(n=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),hydrate:(t=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e(i.a);return f(n,null===t?Array.isArray(n)?[]:{}:t)},l=function(e,t){var n;if(void 0===e)n=c();else if(e<1)n=[c()];else if("object"===typeof e)n=c(e);else{var r=A(e,t),a=r.data,o=r.length;n=Array.from({length:o}).map(function(){return c(a)})}return i.a.seed(i.a.random.number()),n},u={create:function(){var e=Object(s.a)(o.a.mark(function e(t,n){var r,l,u,m;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t<1?r=[c()]:Boolean(t)?"object"===typeof t?r=c(t):(l=A(t,n),u=l.data,m=l.length,r=Array.from({length:m}).map(function(){return c(u)})):r=c(),i.a.seed(i.a.random.number()),!Array.isArray(r)){e.next=6;break}return e.next=5,Promise.all(r.map(function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.insert(t);case 2:return e.abrupt("return",a.hydrate(t));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,a.insert(r);case 8:return e.abrupt("return",a.hydrate(r));case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),make:l,only:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l(t);return Array.isArray(e)?e.reduce(function(e,t){return h({},e,Object(r.a)({},t,n[t]))},{}):Object(r.a)({},e,n[e])},seed:function(e){return i.a.seed(e),u},state:function(e,t){if(["create","make","only","seed","state","configDatabase"].indexOf(e)<0){u[e]=function(e,n){var r;if(void 0===e)r=c(t);else if(e<1)r=[c(t)];else if("object"===typeof e)r=c(h({},t,{},e));else{var a=A(e,n),o=a.data,s=a.length;r=Array.from({length:s}).map(function(){return c(h({},t,{},o))})}return i.a.seed(i.a.random.number()),r}}},configDatabase:function(e){Object.keys(a).forEach(function(t){e[t]&&(a[t]=e[t])})}};return u};t.a=j;j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"factory",filename:"src/factory.ts"}})},"./src/index.ts":function(e,t,n){"use strict";n("./src/types.ts");var r=n("./src/factory.ts");n.d(t,"factory",function(){return r.a});n("./src/enumFactory.ts");"undefined"!==typeof factory&&factory&&factory===Object(factory)&&Object.isExtensible(factory)&&Object.defineProperty(factory,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"factory",filename:"src/index.ts"}}),"undefined"!==typeof enumFactory&&enumFactory&&enumFactory===Object(enumFactory)&&Object.isExtensible(enumFactory)&&Object.defineProperty(enumFactory,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"enumFactory",filename:"src/index.ts"}})},"./src/types.ts":function(e,t){"undefined"!==typeof IDataObject&&IDataObject&&IDataObject===Object(IDataObject)&&Object.isExtensible(IDataObject)&&Object.defineProperty(IDataObject,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IDataObject",filename:"src/types.ts"}}),"undefined"!==typeof StateGenerator&&StateGenerator&&StateGenerator===Object(StateGenerator)&&Object.isExtensible(StateGenerator)&&Object.defineProperty(StateGenerator,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"StateGenerator",filename:"src/types.ts"}}),"undefined"!==typeof PromiseGenerator&&PromiseGenerator&&PromiseGenerator===Object(PromiseGenerator)&&Object.isExtensible(PromiseGenerator)&&Object.defineProperty(PromiseGenerator,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PromiseGenerator",filename:"src/types.ts"}}),"undefined"!==typeof IFactoryObject&&IFactoryObject&&IFactoryObject===Object(IFactoryObject)&&Object.isExtensible(IFactoryObject)&&Object.defineProperty(IFactoryObject,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IFactoryObject",filename:"src/types.ts"}}),"undefined"!==typeof GenericExtension&&GenericExtension&&GenericExtension===Object(GenericExtension)&&Object.isExtensible(GenericExtension)&&Object.defineProperty(GenericExtension,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"GenericExtension",filename:"src/types.ts"}}),"undefined"!==typeof FactoryGenerator&&FactoryGenerator&&FactoryGenerator===Object(FactoryGenerator)&&Object.isExtensible(FactoryGenerator)&&Object.defineProperty(FactoryGenerator,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"FactoryGenerator",filename:"src/types.ts"}}),"undefined"!==typeof DatabaseConfig&&DatabaseConfig&&DatabaseConfig===Object(DatabaseConfig)&&Object.isExtensible(DatabaseConfig)&&Object.defineProperty(DatabaseConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DatabaseConfig",filename:"src/types.ts"}}),"undefined"!==typeof EnumGet&&EnumGet&&EnumGet===Object(EnumGet)&&Object.isExtensible(EnumGet)&&Object.defineProperty(EnumGet,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EnumGet",filename:"src/types.ts"}}),"undefined"!==typeof EnumUnique&&EnumUnique&&EnumUnique===Object(EnumUnique)&&Object.isExtensible(EnumUnique)&&Object.defineProperty(EnumUnique,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EnumUnique",filename:"src/types.ts"}}),"undefined"!==typeof EnumFactory&&EnumFactory&&EnumFactory===Object(EnumFactory)&&Object.isExtensible(EnumFactory)&&Object.defineProperty(EnumFactory,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EnumFactory",filename:"src/types.ts"}})}}]);
//# sourceMappingURL=docs-examples-snapshot-testing-snapshot-testing.ee169855a235daf95671.js.map