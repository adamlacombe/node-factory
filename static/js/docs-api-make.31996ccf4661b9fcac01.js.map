{"version":3,"sources":["/Users/olavo/Projects/node-factory/docs/api/make.mdx","/Users/olavo/Projects/node-factory/docs/components/Factory.ts","/Users/olavo/Projects/node-factory/docs/components/FormatJson.tsx","/Users/olavo/Projects/node-factory/src/enumFactory.ts","/Users/olavo/Projects/node-factory/src/helpers.ts","/Users/olavo/Projects/node-factory/src/factory.ts","/Users/olavo/Projects/node-factory/src/index.ts"],"names":["layoutProps","MDXLayout","MDXContent","components","props","mdxType","parentName","to","parse","UserFactory","make","name","isMDXComponent","factory","fake","id","random","uuid","findName","email","internet","state","json","styles","style","background","borderLeft","color","margin","padding","fontStyle","fontSize","maxWidth","overflowY","dangerouslySetInnerHTML","__html","number","key","string","boolean","null","JSON","stringify","undefined","replace","match","cls","test","enumFactory","array","enumFactoryObject","seed","value","faker","get","n","mock","helpers","shuffle","pop","slice","Array","from","length","map","unique","N","partial","isObject","variable","constructor","Object","merge","data","overrides","isArray","keys","reduce","values","indexOf","override","rest","resolveArgs","args","resolved","arg","generator","database","insert","hydrate","generate","count","factoryObject","create","a","Boolean","Promise","all","model","only","filtered","stateValues","configDatabase","options","forEach"],"mappings":"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","file":"static/js/docs-api-make.dbd9b004.js","sourcesContent":["\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\nimport { Link } from 'docz';\nimport FormatJson from '../components/FormatJson';\nimport { UserFactory } from '../components/Factory';\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"factorymakecount-overrides\"\n    }}><inlineCode parentName=\"h1\">{`Factory.make([count, overrides])`}</inlineCode></h1>\n    <h3 {...{\n      \"id\": \"args\"\n    }}>{`args`}</h3>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`count `}</inlineCode>{`\u001d`}<span><inlineCode parentName=\"li\">{`(Number [optional])`}</inlineCode></span>{`: This argument defines how many objects should be generated `}<inlineCode parentName=\"li\">{`(default: 1)`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`overrides `}</inlineCode><Link to=\"/api/types#idataobject\" mdxType=\"Link\"><inlineCode parentName=\"li\">{`(IDataObject [optional])`}</inlineCode></Link>{`: These are value which should be overridden on the generated data `}<inlineCode parentName=\"li\">{`(default: {})`}</inlineCode></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"return\"\n    }}>{`return`}</h3>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`data `}</inlineCode><Link to=\"/api/types#idataobject\" mdxType=\"Link\"><inlineCode parentName=\"li\">{`(IDataObject | IDataObject[])`}</inlineCode></Link>{`: A data object or an array containing data objects generated by your generator function`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"description\"\n    }}>{`Description`}</h2>\n    <p>{`This method is used to generate data objects withouth persisting to a database. As a rule of thumb, if you're `}<strong parentName=\"p\">{`NOT`}</strong>{` testing a database, use the `}<inlineCode parentName=\"p\">{`make`}</inlineCode>{` method. Otherwise, use the create method.`}</p>\n    <h2 {...{\n      \"id\": \"type\"\n    }}>{`Type`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`interface MakeMethod<T> {\n  (): T;\n  (overrides: IDataObject): T;\n  (count: number): T[];\n  (count: number, overrides: IDataObject): T[];\n}\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Where `}<inlineCode parentName=\"p\">{`T`}</inlineCode>{` is the type passed to the factory function.`}</p>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"examples\"\n    }}>{`Examples`}</h2>\n    <h3 {...{\n      \"id\": \"-t\"\n    }}><inlineCode parentName=\"h3\">{`(): T`}</inlineCode></h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`UserFactory.make()\n`}</code></pre>\n    <FormatJson parse={() => UserFactory.make()} mdxType=\"FormatJson\" />\n    <h3 {...{\n      \"id\": \"overrides-idataobject-t\"\n    }}><inlineCode parentName=\"h3\">{`(overrides: IDataObject): T`}</inlineCode></h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`UserFactory.make({ name: 'JOHN DOE' })\n`}</code></pre>\n    <FormatJson parse={() => UserFactory.make({\n      name: 'JOHN DOE'\n    })} mdxType=\"FormatJson\" />\n    <h3 {...{\n      \"id\": \"count-number-t\"\n    }}><inlineCode parentName=\"h3\">{`(count: number): T[]`}</inlineCode></h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`UserFactory.make(1)\n`}</code></pre>\n    <FormatJson parse={() => UserFactory.make(1)} mdxType=\"FormatJson\" />\n    <h3 {...{\n      \"id\": \"count-number-t-1\"\n    }}><inlineCode parentName=\"h3\">{`(count: number): T[]`}</inlineCode></h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`UserFactory.make(2)\n`}</code></pre>\n    <FormatJson parse={() => UserFactory.make(2)} mdxType=\"FormatJson\" />\n    <h3 {...{\n      \"id\": \"count-number-overrides-idataobject-t\"\n    }}><inlineCode parentName=\"h3\">{`(count: number, overrides: IDataObject): T[]`}</inlineCode></h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`UserFactory.make(2, { name: 'JOHN DOE' })\n`}</code></pre>\n    <FormatJson parse={() => UserFactory.make(2, {\n      name: 'JOHN DOE'\n    })} mdxType=\"FormatJson\" />\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;","// tslint:disable\nimport { factory, StateGenerator } from '../../src/index';\n\nexport interface User {\n  id: string;\n  name: string;\n  email: string;\n}\n\nexport interface UserStates {\n  female: StateGenerator<User>;\n  male: StateGenerator<User>;\n}\n\nexport const UserFactory = factory<User, UserStates>(fake => ({\n  id: fake.random.uuid(),\n  name: fake.name.findName(),\n  email: fake.internet.email(),\n}));\n\nUserFactory.state('female', {\n  name: 'Joan Doe',\n});\n\nUserFactory.state('male', {\n  name: 'John Doe',\n});\n","// tslint:disable\nimport React from 'react';\n\nfunction syntaxHighlight(json) {\n  const styles = {\n    number: 'color: #3490DC',\n    key: 'color: #6CB2EB',\n    string: 'color: #3490DC',\n    boolean: 'color: #621B18',\n    null: 'color: #E3342F',\n  };\n\n  if (typeof json != 'string') {\n       json = JSON.stringify(json, undefined, 2);\n  }\n  json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n      var cls = 'number';\n      if (/^\"/.test(match)) {\n          if (/:$/.test(match)) {\n              cls = 'key';\n          } else {\n              cls = 'string';\n          }\n      } else if (/true|false/.test(match)) {\n          cls = 'boolean';\n      } else if (/null/.test(match)) {\n          cls = 'null';\n      }\n      return '<span style=\"' + styles[cls] + '\">' + match + '</span>';\n  });\n}\n\nexport default ({ parse }) => (\n  <pre style={{\n    background: '#EEF1F5',\n    borderLeft: '5px solid #CED4DE',\n    color: '#7D899C',\n    margin: '-30px 0 25px 2px',\n    padding: '20px',\n    fontStyle: 'italic',\n    fontSize: '18px',\n    maxWidth: '100%',\n    overflowY: 'auto',\n  }} dangerouslySetInnerHTML={{ __html: syntaxHighlight(parse()) }} />\n);\n","import faker from 'faker';\nimport { EnumFactory } from './types';\n\nconst enumFactory = <T = any>(array: any[]) => {\n  const get = (n?: number) => {\n    let mock: any | any[];\n    if (n === undefined) {\n      mock = faker.helpers\n        .shuffle<T>([...array])\n        .pop();\n    } else if (n < 1) {\n      mock = faker.helpers\n        .shuffle<T>([...array])\n        .slice(0, 1);\n    } else {\n      mock = Array.from({ length: n }).map(() =>\n        faker.helpers\n          .shuffle<T>([...array])\n          .pop(),\n      );\n    }\n\n    faker.seed(faker.random.number());\n\n    return mock as Partial<T>;\n  };\n\n  const unique = (n?: number) => {\n    let mock: any | any[];\n    if (n === undefined) {\n      mock = faker.helpers\n        .shuffle<T>([...array])\n        .pop();\n    } else if (n < 1) {\n      mock = faker.helpers\n        .shuffle<T>([...array])\n        .slice(0, 1);\n    } else {\n      const N = n < array.length ? n : array.length;\n      const partial = faker.helpers.shuffle<T>([...array]);\n      mock = Array.from({ length: N }).map(() => {\n        return partial.pop();\n      });\n    }\n\n    faker.seed(faker.random.number());\n\n    return mock as Partial<T>;\n  };\n\n  const seed = (value?: number) => {\n    if (value) {\n      faker.seed(value);\n    }\n    return enumFactoryObject;\n  };\n\n  const enumFactoryObject = { seed, get, unique };\n\n  return enumFactoryObject as EnumFactory<T>;\n};\n\nexport default enumFactory;\n","import { IDataObject } from './types';\n\nexport const isObject = (variable: any) => {\n  return variable && typeof variable === 'object' && variable.constructor === Object;\n};\n\nexport const merge = (data: IDataObject, overrides: IDataObject): IDataObject => {\n  if (Array.isArray(data) && Array.isArray(overrides)) {\n    return data.map((value: any, key: number) => {\n      return key < overrides.length ? overrides[key] : value;\n    });\n  }\n  return Object.keys(data).reduce((values, key) => {\n    if (Object.keys(overrides).indexOf(key) < 0) {\n      return {\n        ...values,\n        [key]: !isObject(data[key]) ? data[key] : merge(data[key], overrides),\n      };\n    }\n\n    const { [key]: override, ...rest } = overrides;\n    values = { ...values, [key]: override };\n    overrides = rest;\n\n    return values;\n  }, {});\n};\n\nexport const resolveArgs = (...args: any[]): IDataObject =>\n  args.reduce(\n    (resolved, arg) => {\n      if (typeof arg === 'number') {\n        return { ...resolved, length: arg > 0 ? arg : 1 };\n      } else if (typeof arg === 'object') {\n        return { ...resolved, data: arg };\n      } else {\n        return resolved;\n      }\n    },\n    { length: 1, data: {} },\n  );\n","import faker from 'faker';\nimport { merge, resolveArgs } from './helpers';\nimport {\n  DatabaseConfig,\n  FactoryGenerator,\n  GenericExtension,\n  IDataObject,\n  IFactoryObject,\n  StateGenerator,\n} from './types';\n\nconst factory = <T, A = GenericExtension<T>>(generator: FactoryGenerator) => {\n  const database: DatabaseConfig<T> = {\n    async insert(data: T) {\n      return data;\n    },\n    async hydrate(data: T) {\n      return data;\n    },\n  };\n\n  const generate = (overrides: IDataObject | any[] | null = null) => {\n    const data = generator(faker);\n\n    if (overrides === null) {\n      return merge(data, Array.isArray(data) ? [] : {}) as T;\n    }\n\n    return merge(data, overrides) as T;\n  };\n\n  const make = (count?: number | IDataObject, overrides?: IDataObject) => {\n    let mock: T | T[];\n    if (count === undefined) {\n      mock = generate() as T;\n    } else if (count < 1) {\n      mock = [generate()] as T[];\n    } else if (typeof count === 'object') {\n      mock = generate(count) as T;\n    } else {\n      const { data, length } = resolveArgs(count, overrides);\n      mock = Array.from({ length }).map(() => generate(data)) as T[];\n    }\n\n    faker.seed(faker.random.number());\n\n    return mock;\n  };\n\n  const create = async (count?: number | IDataObject, overrides?: IDataObject) => {\n    let mock: T | T[];\n    if (count != null && count < 1) {\n      mock = [generate()] as T[];\n    } else if (!Boolean(count)) {\n      mock = generate() as T;\n    } else if (typeof count === 'object') {\n      mock = generate(count) as T;\n    } else {\n      const { data, length } = resolveArgs(count, overrides);\n      mock = Array.from({ length }).map(() => generate(data)) as T[];\n    }\n\n    faker.seed(faker.random.number());\n\n    if (Array.isArray(mock)) {\n      return await Promise.all(\n        mock.map(async (model: T) => {\n          await database.insert(model);\n          return database.hydrate(model);\n        }),\n      );\n    }\n\n    await database.insert(mock);\n    return database.hydrate(mock);\n  };\n\n  const only = (keys: keyof T | Array<keyof T>, overrides: IDataObject = {}) => {\n    const data = make(overrides);\n\n    return (Array.isArray(keys)\n      ? keys.reduce((filtered: Partial<T>, key) => ({ ...filtered, [key]: (data as Partial<T>)[key] }), {})\n      : { [keys]: (data as Partial<T>)[keys] }) as Partial<T>;\n  };\n\n  const seed = (value: number) => {\n    faker.seed(value);\n    return factoryObject;\n  };\n\n  const state = (name: string, stateValues: IDataObject) => {\n    if (['create', 'make', 'only', 'seed', 'state', 'configDatabase'].indexOf(name) < 0) {\n      const stateGenerator = (count: number | IDataObject = 1, overrides?: IDataObject) => {\n        let mock: T | T[];\n        if (count === undefined) {\n          mock = generate(stateValues) as T;\n        } else if (count < 1) {\n          mock = [generate(stateValues)] as T[];\n        } else if (typeof count === 'object') {\n          mock = generate({\n            ...stateValues,\n            ...count,\n          }) as T;\n        } else {\n          const { data, length } = resolveArgs(count, overrides);\n          mock = Array.from({ length }).map(() =>\n            make({\n              ...stateValues,\n              ...data,\n            }),\n          ) as T[];\n        }\n\n        faker.seed(faker.random.number());\n\n        return mock;\n      };\n\n      (factoryObject as any)[name as keyof A] = stateGenerator as StateGenerator<T>;\n    }\n  };\n\n  const configDatabase = (options: Partial<DatabaseConfig<T>>) => {\n    Object.keys(database).forEach((key: string) => {\n      if ((options as any)[key]) {\n        (database as any)[key] = (options as any)[key];\n      }\n    });\n  };\n\n  const factoryObject = { create, make, only, seed, state, configDatabase };\n\n  return factoryObject as IFactoryObject<T> & A;\n};\n\nexport default factory;\n","export * from './types';\nexport { default as factory } from './factory';\nexport { default as enumFactory } from './enumFactory';\n"],"sourceRoot":""}