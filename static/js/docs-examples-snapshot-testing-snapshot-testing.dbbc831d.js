(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./docs/components/FormatJson.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r);t.a=function(e){var t,n,r=e.parse;return a.a.createElement("pre",{style:{background:"#EEF1F5",borderLeft:"5px solid #CED4DE",color:"#7D899C",margin:"-30px 0 25px 2px",padding:"20px",fontStyle:"italic",fontSize:"18px",maxWidth:"100%",overflowY:"auto"},dangerouslySetInnerHTML:{__html:(t=r(),n={number:"color: #3490DC",key:"color: #6CB2EB",string:"color: #3490DC",boolean:"color: #621B18",null:"color: #E3342F"},"string"!=typeof t&&(t=JSON.stringify(t,void 0,2)),(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span style="'+n[t]+'">'+e+"</span>"}))}})}},"./docs/examples/snapshot-testing/snapshot-testing.mdx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=n("./node_modules/react/index.js"),o=n.n(a),s=n("./node_modules/@mdx-js/react/dist/index.es.js"),i=n("./node_modules/docz/dist/index.esm.js"),c=function(e){var t=e.list;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Posts"),o.a.createElement("ul",null,t.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:"/posts/".concat(e.id)},e.title))})))},l=c;c&&c===Object(c)&&Object.isExtensible(c)&&Object.defineProperty(c,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PostList",filename:"docs/examples/snapshot-testing/PostList.tsx"}});var u=n("./src/index.ts"),m=Object(u.factory)(function(e){return{id:e.random.uuid(),title:e.lorem.sentence()}}),p=m;"undefined"!==typeof m&&m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PostFactory",filename:"docs/examples/snapshot-testing/PostFactory.ts"}});var d=function(e){var t=e.children;return o.a.createElement("pre",{style:{background:"#EEF1F5",borderLeft:"5px solid #CED4DE",color:"#7D899C",margin:"25px 0 25px 2px",padding:"20px",fontStyle:"italic",fontSize:"18px",maxWidth:"100%",overflowY:"auto"}},t())},f=n("./docs/components/FormatJson.tsx");n.d(t,"default",function(){return y});var b={},h="wrapper";function y(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)(h,Object.assign({},b,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"snapshot-testing"},"Snapshot testing"),Object(s.b)("p",null,"When working with component libraries, such as ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"http://reactjs.org/"}),"React.js"),", a common pattern of\ntesting is using ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://jestjs.io/docs/en/snapshot-testing"}),"snapshots"),". These are particularly\nuseful to make sure your UI does not change unexpectedly. But, because of this, using random data\nto test snapshots creates a problems since, because the data changes, the snapshots will also\nchange. Let's see how we can deal with this."),Object(s.b)("p",null,"For the sake of this example, let's say we are testing a blog app."),Object(s.b)("h2",{id:"factory"},"Factory"),Object(s.b)("p",null,"To start, we might have a factory in the likes of:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// ./path/to/PostFactory.js\nimport { factory } from 'node-factory';\n\nconst PostFactory = factory(fake => ({\n  id: fake.random.uuid(),\n  title: fake.lorem.sentence(),\n}));\n\nexport default PostFactory;\n")),Object(s.b)(f.a,{parse:function(){return p.create()},mdxType:"FormatJson"}),Object(s.b)("h2",{id:"component"},"Component"),Object(s.b)("p",null,"So let's say we have a component which lists the blog posts:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// ./path/to/PostList.jsx\nimport React from 'react';\n\nconst PostList = ({ list }) => (\n  <>\n    <h2>Posts</h2>\n    <ul>\n      {list.map(post => (\n        <li key={post.id}>\n          <a href={`#/posts/${post.id}`}>{post.title}</a>\n        </li>\n      ))}\n    </ul>\n  </>\n);\n\nexport default PostList;\n")),Object(s.b)(i.c,{__position:1,__code:"() => <PostList list={PostFactory.make(2)} />",__scope:{props:this?this.props:n,Link:i.b,Playground:i.c,PostList:l,PostFactory:p,EchoJS:d,FormatJson:f.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AAGTQbYlgABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtKYEMoFFYJRHDZXaD0DzgT0sG9Ml4EkOBUFmOBhgtWgUQKSQyIo2wXxVVBiPVdhBIIAAxM0hWSI0aLo04GJ_FiGPYzjuPNXiYhnATyJkuSBESIiIPYM9yGGAApZxqPdaQVIBdN9AYyybOcMySPYaShSiAhrLgZlFIc-jnPXGgGN8gR_MC6gvIkwNJXs-UzXaMFUF0KiCOcAhEixdhuHYYB1iiARnlQK52gABnYJMZiwdo92rGYOxYGcqoAFga9gADYGqa9YwGA2SiGgRIqv4ZxDgRB1MEkoR-CWIhqHI1qEUG6thpoZwIHwy52AARk65r5AyrKpgAQTmQr2AjKCrOgdAwywjlCrEO7oxkdgUXymBuGAHK8qxeQtxrYBHqgZ7ggAMhh8ZEnmShmkh6HzG4DG5TADDJQGVB2nYAB-DYnrDCM3quVGwzO6spBkKs3zMGEJMwMAwigKZyfe2trvrYAue4D7GCkyipigYSAak2TJXknAom2GAIwAJg5bDN3kKRearL8QDCtSsTYji7m03T-JF4ScAIOAsEA3QQIMMDxPtJKpTdVLFVEswLskwzRdu-72HFqj5DewXPtpsGEzwJWxCkuAKxjldGFCKBI_BoOCDl2YI0FKiw6jasaxrRhxfYBXEgB3PM64UGVyLhNXF8LowAB4pJCrhiABJgCrnAa-KUGe8My2XlgDXJFcNOi6kcWp_YDlVaTyQU7BqQGc950sG81n2dI33hNEnW9aY38NKNriRB0-A9JSAyUWliITMtrQKGA_QGCdyDDWM5JsJC2iPQ4EAR6OAAhyCSFUNgP0XtqBUSlj_W6bMZYmQjGzBW3N7rrC4FcNBf5MgYEiDgUIoQuDk2ahYGIBBYA4NcArHAUAhQwCIDgOA-h4SKw5KdBeG9mb2h3inPe98f6HyULrJynwIpW0kO5Sgtln4220Hbd-YFHjjDgOLGgiAWAVA8LAW0iVNQpVNB7DKvCpj8I5ndB6NgoYvRDhg6M_Zui_VgADEqhd2AeAlNsNCbQMBVQAMRnjPNJQ60kACsm0i5eAEFOaCMAwAECquEnqQVxY5ACfYM8WpOpajPFEmsVAGFljlAEgA7FqAAHAATmqfYApFgyoVSqkrFJPhaqtJ6krAa5CaytU7AUFp1Uekrm2gQXKf0qovHiLEBphpgK7X2lVQ6lSRkeKiFgAA6lwCYyzqrVQAKRzMoKwDIYAGEjAAJpVTCBEAp8ha7VghjYtG5MabbicevMwR9xGOmoK5SQ0VYpBVQPI22b9QIgFUVbDRSTtGuF0YyMS5kXZGM1NA1A2NMrdnMHARINBXBYAABIQBSHgcWZKCARk0NQN67iLDexcfAW69KayoFCEQQIJT2hFKFFcAJSZOrVOqlqepvSLDlyqrykpATer2GvErM8145komnCkKVlBin8sFcK0VcyvCavFJVOU0r-W9SVoda8Ky5nsoSBqrV7AglJkFUraS9yN4WAgM0CMeUkbNBpeYAAhEVdoqqCivmKnXCwAbbq2R1AAORYaiAoXrEjUpBUsDCrM0DZCWCrUSFh3nsBjUVANoYYBkglIrSQMMnhLHaDDZiSpXzlsrQiCMkgpApHrTDDmzaOStuQu2zcda5QwxSAQftBaJyjj6OYMtXQ23VqjCAKMvB12hAANquHNPhS65oABa1VzTVIALrAE6vIAAPuu9dm6AB6oRT1Xofbe9dIBT0clMKu9dcAjCckJje3gHgfVohgFetmUBWFXttVALkwGr3mkJuu9AABqCMhNEDrpwChowHJCYYcQJumAZ5T2btQ-u80p7kO8DQ_hjko6sW42ZBGfyVk6VRtYK4I45AoO3XaOyzlGQ_T104N6yQ97-CSEttfVj0R2McY8aJr1d1JCIE7tJ3ScmCAKcjUp0ThS-MhvLiJgzhboRQe6KyszRdeN2BDWGmcpmzNFqLthecrCxOqdRAyCD8RWGadk2xvAC89M2Z6EZuUBryT42nW5iznmVMdtg4FlE2ndPWYM3Z_jsHnM1lczWLoBA51ykYHAVquLgb_X4ATVDP0qtwE3XZ097A6vpRAGIWr7BgutdK2xCrnXp0h1EjTJmW8WYJN3lYvs3HPP2Pzo4ro9W_puJXF4nYvis2BOCaEiJ-qhRxISUkuUbSfqaq4I6rJOS8lzNNaUipNS6lzKaWgKq5okzDPaewTpPhumNXFTNgZHU5RK0-3MsZEzqFymmeLcg4OFl7QOu0FZayi4bO2egXZcpDr7KOQDk5ZyLnXLlLcyg9zsLoHcGkdC6jEjOFHA0VAzoBBEssHqaCbj2AAH0ueEBIFcPFBLiWkvJSLqlrUBCsPJm9B57BNxmA_N80RoDwGQNwFbcFehIVmPYEYFKHpfXwD9DrqCFipj-G_sg3--vJBIMfqZUSJvjiTYESEOwdAOUP3klhG3HuiBe5Mn6HWKvJCG7gM_TX9sGA68Nz5WhGRLCI26EVWSCsBA4FTxkXK0RYg8PG_aWPAfEgAHF0iZEfowSwH0iqoPj1cTPAhE_zFDh9SwG9Y9il6JLtgMAELcZiPESv1ewvsE3QhTg5hy7IysNRq4ne-j5FOX34UEBB-WDH6esQI28_eVjzqU5Ah-jlCH7def3el_99X1AE_V649W9L8z6IQpGBn8X73y_a-xBb9MfnscegBBILdBF6V63RIgfSsrywHR6jx56ijjDDoBD7TrkCmi0BXD2AoEwCwETBOCIFMioBJBXA6j4GJBYHwG4HVisLZBXD07ZCkE4FV7ToohZDUEEBZB0EIEMF4GM6sLCiEGoDcEZAEDsHkEWDUBEqJDPTMHsBEHiGSG0DCGcGoCjabzeRoC0AAFVrsDQEKwKHgHrDkxXBt76EE6H5cDwCEEH5H7wBD4ciGHToRhUAYTHaCZcq2FWCbqnr2GOGaLsAuEZBLAmFWH3DSGWFmHxxV5uHr6eFmDKE65qFnKaHoHijyFwH0F6HVgGELSRDUgiF3SBFhEWEZBBE2FXAIQyg5GKEWAOF-LOEcquGlHlGsKV4eHf4ZHeG1FCYCABGhHlCFGmHH4RENHZFNFRGtGxG_4IzzDSHEG6H-zlzBFT7NCWDsC36XSH4oSMCLFWBiDdFFFhGYYhF7EDFiAt6SQf7X6KFja75J7sA0HoCzE15cZQAMhXB-ECCnHAGXEqESSx7Z4pHYEcHD4RgcRHgC7JozhLBMG0AABq8QDIwR--Rx1hER3MrAlAXAO-PxNxRBAhwoDxd0TGVwWo0QCKFIjgmKpKQ-m67QaAPBL4n63MnxrRVxWJUxMhEh5emBqRgJ_shJ7AxJrBXirC5JkAKQVJ7QeAHJWQ7QDJYcTJmJ9o8RGhs0AprgOoHg6gWwkE6wm6kq9Waqp6VwSII2P-1xUxfxMAD-GQT-AgJ-RU2hXJAJ5BLJip_-gB7AVp_Q5AZ4WAIE-Q1AJ-rKm6UJB0jmKQhptxrBtAnpNp5B4xqhbpmhqpQpMAIplJVeI-tJghVwEYlOrBhhpxZRwxMAjAYB06kpchB0uZJJBZ3MxpMRppEkSp7pZ4gmTJI-p4VwrZHKpeBAuRGEEAAAji8RZIJgAKpiTDklmVE_RBAPhPEMgHFvFuHdn-4_xxmNmunqEtmCa9mBn6GRFeE1GvF1EZCREeEmn-jfFbkJGzSrkTlDkMj7kZGHn6HtEnmdHnnRFKFK7KAh526ywa6KIQoOzgTeS4JHD_wQUJT2hQR5LSSXRjnQSWBc5aiXSWCXTXiXTOBnhc72AJrSQNDF4-7_wegXTuBWwwVfy2DSQ4w4rLQZBpBLBdBpKnJrEpB2B_xuweibBQCwhwBUUj7JlknUCim9KqnqmamSi9JF4yU_wxmPy9KemxA-l-l4y9IOnsG9KIn9HwCnQ25h4YrewAUmS3SV5LCXS3TKXem-l0D-moBD4NhpCP6Pz17yVl6xkolhysrex5mkmsJEkkkplplikZlFTwWIXIWoXoWYXYW4X4XxqEXF4eqFioBUTOXWm0D-z5G9H8kkmSVakrEhCoCJAeFFWwa3SwanGZa-Ukm3QZXl5Ci15p6K5XlFxJY5XMoYxFRVUj5FxFYlZHjlSKx-UWXrGJB9xwBrGZBpp-VvTExlVXDAD2IW5GEeLKH9WzoCDmBDVpDVmsG7G6VwBvSrVDYpXeyQH-ztFLmnlHC346XFFV6HVBEHEPVhE2HcyZawDNinDbCGFFVRFxZebVFOGFSYxZoJI5roCKaiYrQ7D1UeW0BcynUrjuaWbA3tG1hHQw31xw27BFSboNVZDkwtarUXmo0JbdBJaG7T6Y3dVyiUAalakRqZaNK_UI0uWKztEnV2BrXxYeZU3eo0V0V4wg00BvRwyTEwC001Fg0hpMY4os1Rp40c2ZVc01HNVnk81WBA1o2eas2pVUSm4klLCwAzgFjYRFQsWapsXlRwBi0EDPVhGtWw3s1FTTUoQ4CKQBxm0Tp4ghxZwzARgCwfRE1I1zXa2A2o0ZRFwQUsJzma3p74JWg4BvHS4pWereoe0TW2DZ2sa_WhYG0DXbXda_WB3B0rSYBQC1neVRoWDF3mB-Upn4BSlI2V3zgu31zDbR1tWFZbWN1BUUgt2Vn507Cd3yDnWwJTDIHJHJ5u74rkB3TXUflcpFVvXHFO3lCvU9HIknGfUrjfWl07D_W35R0eJJaY3Bq-EpxQDsCS2Y2MDY19U1gq0E1h0cKk283k3rWU3A2BrXjCAxYO2F3K1u0jic3I28262_3U1J4y2g303tCM1SUvg41o5gPv3ANu460U0C3A3C3Yqi3c133ww00oyy2IMK14xK36av3gNq0O2J2hYo0_14MG3ezG0HWBx0B-0-5W3wA20wDsX23tGb3wCd3oPw3u3jVe0yg-08MW0DpRBB0h30Ocn7WuDMNf3fluYx01hx2UEPhx3J2EJp3cJ6OZ13TZ2TV5140gP6YN0hAjCuDjhFljSsI4DxBQAFxmZ43l3-AL13Tt3V1WDVV101iuDOPjhN1D1ZnCj51V0SMGaOMxMeMVnqPBNJNuacJRpJMbURNRPmKD0eNxNUp2NA0pPFN_jpPE3lPrAT16PezUBJBzEwCJALFtPT7LGrHjWbGdNLE7F7A70InDN2nFTzbpG2ZT1DNImqm3QEPMaoARidXHUkNS3T4rNy1Ywi3xREwzNHVMPsBXArNA21WsG3SQHLM72qmtUriOMRjWO53jURjzFviibEzzHlroChDtqoLQDqFUFnEr6f5LDlynEBxAJe3_MXCLCj7lwRkaPYPL4D4XEnG6ltMtYhxLDLVvP1xLVwttNwAIt-VIvnE2HovtOYva3ItX65ENO92Mpzn-wLkHTLn70eIGMJ0stJOOMmWJAFWShnWNPTMhn-wgmhngndr1ZZCwnPHmGHFHUfW13n3erUkz3Sn1qQFNQM3EHauhpzl6shl6vUC4kvj1piGt0wAyl9zhhYA6hgDAnegwBvSP3VRoOFIitRkwBzNFQLM4oRghmyvwkS2kNwPNCBtwldWYztBUO7PEwRtyv20QUUzSswmRtwBA0MrTOQHsFXXHnX2dFr2jNPX7MvV9GPV73KtmaH140n3uE6MGYX0UPg3hiQDOjQ3P2u1SNqPE0hk3PYN80GZ62C1L2y2P2HTutdv42j6YN9skkcif31uZv5YwPepkOFgIPRvIPM2Tu40YOI2KxQSQtztcOQuY0rVQPhPDv4NwC0WEPUBYOS3rt03Ruxv4y7uSPTuYNHtAInuuBLBnsa3JuvQDvLvmZsPhNZtpVfyjXcPm3-23TW1QC20cUO1iPHVgcv1gPWPe1QS-2KPl2qPfvsDHteuqkAdAIkshyR3f0uYWP1ycvZCJ2hiVCmO3Xp30ftVZ0yNPMzWj3bD2PhaON-PKMV2AghOWBhP6aiaVOClD01Nt3idZNd3KeFqcd93FYl2pPVOWv8fKf0tRq15W4Cvm52BIgcibrivYNbGXQtZFQ5vcnYOaXcm5FqfVgGfVhNP8FpWCG8k4w5l-U10fRuM5FgFSdFzac2t0mII4wZ0zqafmB8smdCsMvTMWuVl-eZQBc1mhPcwhdNFhfssRdVPD2ckxeZRxe8s_zJf1OT3QeW724mcso9AYHLTx4BHEGQlzmQlesdemsdeyFlcef1390NfyRNcW7tnwyXTb6bnmIu6WJ8siJ_lgKehtk_wR7AVa6gWfzfxp4pTQWiS7dQR-t4wkXcWSC8X8WCVQSrlF7ne4QG5J4CUbzex-73dFQgFFRgERjcYzVGklVlW37B24IA-JCnHmfheG1TBh1Chis3Wflg9lVVs1hJancPt_coQhvrPNCY_JCUM7PvudvxclY4dyN4cKN4CvErG37GOsfMJp044y5KPZyqN49MN5P0eON4_YNIi0dYR1fpWjjw8r1nlFc1g1u_Vg9FV88NuWPAlbMQ1tvZC7tnONxFSw8CDkzLvezJ2ILx5J30-p3sd-X0KU_sDmjY3Lt0Nx1XcZDh5cShBgDnLTkNibqQt-WfqbrJ1y8-54NJbmDjuq_TMksa-I1NXKe6-VD69p4scEIM8m8klm_wcW9W-gPdu2_zj8XhMsJ4BO8u9D4Rju-Uckmfo5_qKxCKzJ3MXR91YTvQMQe0PYcyO4dwd-3U8B2ieqMG1QfZR1Vh8uVNXviYdR-YRFR0_x_G-dEaPJ-8OW_1_hNVex92-S65_5-wCF_F84Ce8Wc-_Lvd3rX0eMdGMG9x8p1mO3MeLCfs0W40uf4pfrDewDlTki8FuuHi8WCS_H3FXJC36y9A0B9FerbKGsH3q6h8e2j8bXlGlH45Bx-p_Exgn2n6m98OeIefspxt6n8V-DvPPs7w35V4i-HvUvrv0qC-9r2gAoPsTzV6q1GqWvSPtMz15wDY-CAqflyhn4oDU-C_Jvhn0wFZ97e5fHAQX3wFb8d-5fWHFX0qA19MIdfPJr_XYbTN40t0QNI8ymrPM8eb0K9LfkD4hAZG7A4mOYCNI6DKeOvaZhLhRa3Qt-mvCMPGgXbW9m-M1WRpEHkbwcrgCgzvqzyh4ydRumfPivbzX64DXeOcc4gOkFBB19OnPXuhYGP7MdmBF_SrqNxVq38yWM5YbtD1nK5hHikbBHu_xR7y9uWxPKIdy11p3NRu73arkzUFa1dhW9XUocZ3KFTAioUEQxksFPCZpJyDIAXno0cY1DGudQ7Bnd3XKKEPOOuM3NCHW5W5luIAEPORUiibdX423aPBMW9gRUkKKFNChhSwo4U8KBFIiiynWABNMoE-OkhozB7utZOrgIbL0gU4jUcu5nZ-mcIuExEJhIeLAbMKAjzDHY5kCCgdwN43c8qrBJrlxUe6h5nuGKHXN7FsBNcMh_QBFFDluEo9HGXGaEYijWbrtERq-ZEYg23aKg1maImEX-AuhohkEWzGrkoQVLT1pm6PdGHdFxGIoTh4vBEdxnRGwA1my1S2JQFyhqoPgXjCMDSNgChxo2m6LEVMDvaLNT0foIYYsOzaMU56xwv4WqTqHodAq_wuoW4Qkq9CUeSWZQXnTmprMtRzzFZoJw04lZTeXfFlmD1BZtNRe7xDBOXCxorNZ-BYYmCswpYtYrg3LceusEcYmccA8xDRgOi6DfNfmLLOABaPB4f9ga3o30QaJtZqB7WLzNpm9DEBFQ3WlA6ZlBBdHHMd6fDUtmETi7y8IRdQjRi6Ox4FiUGVzJEoaM8EJdieRcSFsGIByiYMx3WaUUWPhZiMcm0nDofpnyabVqxPfEjkAnrHhMmxnVBsV2N0YRCSeJdA2nWPTZjimxflF0QDnpaFpsWB_CUd5F14CNkOQjO2v7EhbcYOKSPT9EqPlEoN3oewu2l8x-aKwVwEYJDqclhaHiPBqPNdmG20GzhEGbxGhmZkcY_ty0rFXNG3yxyHj2AH0WqMTFAlXBDo44ruquzujrtQJmIuoT-OSajd_xD4oCYFw_GwT-a6NNHre0J6_dyo2PRCeVC2YxtCeqEqsSVgwnbjHxSwbCYeMOYri4JjfX8aN0wnoB9-qNAHBT2cFHRGJOXZalhF6StUdY60bYK4DSD_gQUkeZRCAFZT8BxW_AK4PwB-DFhqgGQc0PrEZAgBek_AA_PZVUnsB-A1UHAOZOqhLR1g_AcoMgQgAzAcUJk_gJZXyC_hoQJ8FiM7jJCUBEguYPIAUBnRmhzQGkv4KWGsnVh-AUQNAM5JUC2tZJEUiwLZIrR0BMAmUCAPABMmZZbJpwfCLFPvSHQcASYHAIdESk1h-AEFfKZ1BKkWSypSUwQJqFinIRdIdU0yQ1OClWgmpWQFEPwHqYxFg8YU3ALoFFKyTqA8kyFCVBAC0AfQWQVSepIwLmhjEFoWYDMH4DyAFADyIAA",mdxType:"Playground"},function(){return Object(s.b)(l,{list:p.make(2),mdxType:"PostList"})}),Object(s.b)("h2",{id:"the-test-problem"},"The test problem"),Object(s.b)("p",null,"So, for a very basic test, we can use the snapshot to make sure the UI won't change:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// ./path/to/PostList.spec.jsx\nimport React from 'react';\nimport { shallow } from 'enzyme';\nimport PostList from './path/to/PostList';\nimport PostFactory from './path/to/PostFactory';\n\ndescribe('The PostList component', () => {\n  it('should match the snapshot', () => {\n    const list = PostFactory.make(2);\n    const component = shallow(<PostList list={list} />);\n\n    expect(component).toMatchSnapshot();\n  });\n});\n")),Object(s.b)("p",null,"On the first run, you might get something like:"),Object(s.b)(d,{mdxType:"EchoJS"},function(){return"PASS  ./path/to/PostList.spec.jsx\n  The PostList component\n    \u2713 should match the snapshot (8ms)\n\n - 1 snapshot written.\nSnapshot Summary\n - 1 snapshot written in 1 test suite.\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   1 added, 1 total\nTime:        1.498s, estimated 4s\n"}),Object(s.b)("p",null,"But if you run it again, you'll probably see a big fat error:"),Object(s.b)(d,{mdxType:"EchoJS"},function(){return"FAIL  ./path/to/PostList.spec.jsx\n  The PostList component\n    \u2715 should match the snapshot (18ms)\n\n  \u25cf The PostList component \u203a should match the snapshot\n\n    expect(value).toMatchSnapshot()\n    \n    Received value does not match stored snapshot\n\n \u203a 1 snapshot test failed.\nSnapshot Summary\n \u203a 1 snapshot test failed in 1 test suite. Inspect your code changes or press `u` to update them.\n\nTest Suites: 1 failed, 1 total\nTests:       1 failed, 1 total\nSnapshots:   1 failed, 1 total\nTime:        4.97s"}),Object(s.b)("h2",{id:"the-solution"},"The solution"),Object(s.b)("p",null,"So, since we have random data being generated at every test run, our snapshots will never be the same. To fix\nthis, we need the randomness of the data ",Object(s.b)("strong",{parentName:"p"},"not")," to be so random. To achieve this, we can pass a ",Object(s.b)("inlineCode",{parentName:"p"},"seed"),"\nwhich will be used to generate the random data. By using the ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"/api/seed"}),Object(s.b)("inlineCode",{parentName:"a"},"seed")," method"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// ./path/to/PostList.spec.jsx\nimport React from 'react';\nimport { shallow } from 'enzyme';\nimport PostList from './path/to/PostList';\nimport PostFactory from './path/to/PostFactory';\n\ndescribe('The PostList component', () => {\n  it('should match the snapshot', () => {\n    // Add the seed method before calling make\n    const list = PostFactory.seed(123).make(2);\n    const component = shallow(<PostList list={list} />);\n\n    expect(component).toMatchSnapshot();\n  });\n});\n")),Object(s.b)("p",null,"With this in place, we now get the same result every time!"),Object(s.b)(d,{mdxType:"EchoJS"},function(){return"PASS  ./path/to/PostList.spec.jsx\n  The PostList component\n    \u2713 should match the snapshot (5ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   1 passed, 1 total\nTime:        1.367s"}))}y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs/examples/snapshot-testing/snapshot-testing.mdx"}}),y.isMDXComponent=!0},"./src/enumFactory.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),a=n("./node_modules/faker/index.js"),o=n.n(a),s=n("./src/helpers.ts"),i=function(e){var t=function(t){return Object(s.a)(e)&&"function"===typeof e?Array.from({length:t||o.a.random.number(10)}).map(function(){return e(o.a)}):e},n={seed:function(e){return e&&o.a.seed(e),n},get:function(e){var n;if(void 0===e){var a=t(),s=o.a.random.number(a.length-1);n=o.a.helpers.shuffle(Object(r.a)(a))[s]}else if(e<1){var i=t(),c=o.a.random.number(i.length-1);n=o.a.helpers.shuffle(Object(r.a)(i)).slice(c,c+1)}else n=Array.from({length:e}).map(function(){var n=t(e),a=o.a.random.number(n.length-1);return o.a.helpers.shuffle(Object(r.a)(n))[a]});return o.a.seed(o.a.random.number()),n},unique:function(n){var a;if(void 0===n){var s=t(),i=o.a.random.number(s.length-1);a=o.a.helpers.shuffle(Object(r.a)(s))[i]}else if(n<1){var c=t(),l=o.a.random.number(c.length-1);a=o.a.helpers.shuffle(Object(r.a)(c)).slice(l,l+1)}else{var u=!Array.isArray(e)||n<e.length?n:e.length,m=Object(r.a)(t(u));a=Array.from({length:u}).map(function(){return o.a.helpers.shuffle(m).pop()})}return o.a.seed(o.a.random.number()),a}};return n};i&&i===Object(i)&&Object.isExtensible(i)&&Object.defineProperty(i,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"enumFactory",filename:"src/enumFactory.ts"}})},"./src/factory.ts":function(e,t,n){"use strict";var r,a=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("./node_modules/@babel/runtime/regenerator/index.js"),s=n.n(o),i=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),c=n("./node_modules/faker/index.js"),l=n.n(c),u={insert:(r=Object(i.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),hydrate:function(e){return e}};"undefined"!==typeof u&&u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DEFAULT_DATABASE_CONFIG",filename:"src/constants.ts"}});var m=n("./src/helpers.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){var t=u,n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e(l.a);return null===t?Object(m.b)(n,Array.isArray(n)?[]:{}):Object(m.b)(n,t)},r=function(e,r){var a;if(void 0===e)a=n();else if(e<1)a=[n()];else if("object"===typeof e)a=n(e);else if(Object(m.a)(e)&&"function"===typeof e)a=n(e(l.a));else{var o=Object(m.c)(e,r),s=o.data,i=o.length;a=Array.from({length:i}).map(function(){return n(s)})}return l.a.seed(l.a.random.number()),Array.isArray(a)?a.map(function(e){return t.hydrate(e)}):t.hydrate(a)},o={create:function(){var e=Object(i.a)(s.a.mark(function e(r,a){var o,c,u,p;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&r<1?o=[n()]:Boolean(r)?"object"===typeof r?o=n(r):Object(m.a)(r)&&"function"===typeof r?o=n(r(l.a)):(c=Object(m.c)(r,a),u=c.data,p=c.length,o=Array.from({length:p}).map(function(){return n(u)})):o=n(),l.a.seed(l.a.random.number()),!Array.isArray(o)){e.next=6;break}return e.next=5,Promise.all(o.map(function(){var e=Object(i.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.insert(n);case 2:return e.abrupt("return",t.hydrate(n));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,t.insert(o);case 8:return e.abrupt("return",t.hydrate(o));case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),make:r,only:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(m.a)(t)&&"function"===typeof t?t(l.a):t,o=r(n);return Array.isArray(e)?e.reduce(function(e,t){return d({},e,Object(a.a)({},t,o[t]))},{}):Object(a.a)({},e,o[e])},seed:function(e){return l.a.seed(e),o},state:function(e,r){if(["create","make","only","seed","state","onInsert","onHydrate"].indexOf(e)<0){var a=Object(m.a)(r)&&"function"===typeof r?r(l.a):r;o[e]=function(e,r){var o;if(void 0===e)o=n(a);else if(e<1)o=[n(a)];else if("object"===typeof e)o=n(d({},a,{},e));else if(Object(m.a)(e)&&"function"===typeof e)o=n(d({},a,{},e(l.a)));else{var s=Object(m.c)(e,r),i=s.data,c=s.length;o=Array.from({length:c}).map(function(){return n(d({},a,{},i))})}return l.a.seed(l.a.random.number()),Array.isArray(o)?o.map(function(e){return t.hydrate(e)}):t.hydrate(o)}}},onInsert:function(e){return t.insert=e,o},onHydrate:function(e){return t.hydrate=e,o}};return o};t.a=f;f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"factory",filename:"src/factory.ts"}})},"./src/helpers.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return m});var r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("./node_modules/faker/index.js"),o=n.n(a);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=function(e){return e&&"object"===typeof e&&e.constructor===Object};c&&c===Object(c)&&Object.isExtensible(c)&&Object.defineProperty(c,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isObject",filename:"src/helpers.ts"}});var l=function(e){return e&&"[object Function]"==={}.toString.call(e)};"undefined"!==typeof l&&l&&l===Object(l)&&Object.isExtensible(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isFunction",filename:"src/helpers.ts"}});var u=function e(t,n){return Array.isArray(t)&&Array.isArray(n)?t.map(function(e,t){return t<n.length?n[t]:e}):Object.keys(t).reduce(function(a,o){if(Object.keys(n).indexOf(o)>=0){var s=n[o];return c(t[o])&&c(s)?i({},a,Object(r.a)({},o,e(t[o],s))):i({},a,Object(r.a)({},o,s))}return i({},a,Object(r.a)({},o,t[o]))},{})};"undefined"!==typeof u&&u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"merge",filename:"src/helpers.ts"}});var m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return"number"===typeof t?i({},e,{length:t>0?t:1}):"object"===typeof t?i({},e,{data:t}):l(t)&&"function"===typeof t?i({},e,{data:t(o.a)}):e},{length:1,data:{}})};"undefined"!==typeof m&&m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"resolveArgs",filename:"src/helpers.ts"}})},"./src/index.ts":function(e,t,n){"use strict";n("./src/types.ts");var r=n("./src/factory.ts");n.d(t,"factory",function(){return r.a});n("./src/enumFactory.ts");"undefined"!==typeof factory&&factory&&factory===Object(factory)&&Object.isExtensible(factory)&&Object.defineProperty(factory,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"factory",filename:"src/index.ts"}}),"undefined"!==typeof enumFactory&&enumFactory&&enumFactory===Object(enumFactory)&&Object.isExtensible(enumFactory)&&Object.defineProperty(enumFactory,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"enumFactory",filename:"src/index.ts"}})},"./src/types.ts":function(e,t){"undefined"!==typeof FakerType&&FakerType&&FakerType===Object(FakerType)&&Object.isExtensible(FakerType)&&Object.defineProperty(FakerType,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"FakerType",filename:"src/types.ts"}}),"undefined"!==typeof FactoryGenerator&&FactoryGenerator&&FactoryGenerator===Object(FactoryGenerator)&&Object.isExtensible(FactoryGenerator)&&Object.defineProperty(FactoryGenerator,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"FactoryGenerator",filename:"src/types.ts"}}),"undefined"!==typeof Overrides&&Overrides&&Overrides===Object(Overrides)&&Object.isExtensible(Overrides)&&Object.defineProperty(Overrides,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Overrides",filename:"src/types.ts"}}),"undefined"!==typeof Factory&&Factory&&Factory===Object(Factory)&&Object.isExtensible(Factory)&&Object.defineProperty(Factory,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Factory",filename:"src/types.ts"}}),"undefined"!==typeof MakeMethod&&MakeMethod&&MakeMethod===Object(MakeMethod)&&Object.isExtensible(MakeMethod)&&Object.defineProperty(MakeMethod,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MakeMethod",filename:"src/types.ts"}}),"undefined"!==typeof CreateMethod&&CreateMethod&&CreateMethod===Object(CreateMethod)&&Object.isExtensible(CreateMethod)&&Object.defineProperty(CreateMethod,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"CreateMethod",filename:"src/types.ts"}}),"undefined"!==typeof OnlyMethod&&OnlyMethod&&OnlyMethod===Object(OnlyMethod)&&Object.isExtensible(OnlyMethod)&&Object.defineProperty(OnlyMethod,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"OnlyMethod",filename:"src/types.ts"}}),"undefined"!==typeof SeedMethod&&SeedMethod&&SeedMethod===Object(SeedMethod)&&Object.isExtensible(SeedMethod)&&Object.defineProperty(SeedMethod,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"SeedMethod",filename:"src/types.ts"}}),"undefined"!==typeof StateMethod&&StateMethod&&StateMethod===Object(StateMethod)&&Object.isExtensible(StateMethod)&&Object.defineProperty(StateMethod,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"StateMethod",filename:"src/types.ts"}}),"undefined"!==typeof OnInsertMethod&&OnInsertMethod&&OnInsertMethod===Object(OnInsertMethod)&&Object.isExtensible(OnInsertMethod)&&Object.defineProperty(OnInsertMethod,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"OnInsertMethod",filename:"src/types.ts"}}),"undefined"!==typeof OnHydrateMethod&&OnHydrateMethod&&OnHydrateMethod===Object(OnHydrateMethod)&&Object.isExtensible(OnHydrateMethod)&&Object.defineProperty(OnHydrateMethod,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"OnHydrateMethod",filename:"src/types.ts"}}),"undefined"!==typeof DataObject&&DataObject&&DataObject===Object(DataObject)&&Object.isExtensible(DataObject)&&Object.defineProperty(DataObject,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataObject",filename:"src/types.ts"}}),"undefined"!==typeof StateGenerator&&StateGenerator&&StateGenerator===Object(StateGenerator)&&Object.isExtensible(StateGenerator)&&Object.defineProperty(StateGenerator,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"StateGenerator",filename:"src/types.ts"}}),"undefined"!==typeof GenericExtension&&GenericExtension&&GenericExtension===Object(GenericExtension)&&Object.isExtensible(GenericExtension)&&Object.defineProperty(GenericExtension,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"GenericExtension",filename:"src/types.ts"}}),"undefined"!==typeof DatabaseConfig&&DatabaseConfig&&DatabaseConfig===Object(DatabaseConfig)&&Object.isExtensible(DatabaseConfig)&&Object.defineProperty(DatabaseConfig,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DatabaseConfig",filename:"src/types.ts"}}),"undefined"!==typeof EnumFactory&&EnumFactory&&EnumFactory===Object(EnumFactory)&&Object.isExtensible(EnumFactory)&&Object.defineProperty(EnumFactory,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EnumFactory",filename:"src/types.ts"}}),"undefined"!==typeof EnumGet&&EnumGet&&EnumGet===Object(EnumGet)&&Object.isExtensible(EnumGet)&&Object.defineProperty(EnumGet,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EnumGet",filename:"src/types.ts"}}),"undefined"!==typeof EnumUnique&&EnumUnique&&EnumUnique===Object(EnumUnique)&&Object.isExtensible(EnumUnique)&&Object.defineProperty(EnumUnique,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EnumUnique",filename:"src/types.ts"}})}}]);
//# sourceMappingURL=docs-examples-snapshot-testing-snapshot-testing.53349f4a838ae0cf8f8a.js.map